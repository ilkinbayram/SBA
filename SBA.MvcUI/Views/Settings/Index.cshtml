@{
    ViewData["Title"] = "Settings Page";
}

<div class="row">
    <div class="col-sm-5 col-md-2 offset-1 offset-md-1">
        <h5>
            Data Text Area
        </h5>
        <div class="form-group">
            <textarea class="form-control" id="dataTextArea">

            </textarea>
        </div>
    </div>

</div>


<div class="row">
    <div class="col-sm-5 col-md-2 offset-1 offset-md-1">
        <h5>
            Initialize Filters
        </h5>
        <button type="button" id="startRegeneration" class="btn btn-lg btn-warning">Start</button>
    </div>

    <div class="col-sm-5 col-md-2 offset-1 offset-md-1">
        <h5>
            Delete NonMatched Dataes
        </h5>
        <button type="button" id="startDeletingNonMatched" class="btn btn-lg btn-danger">Start</button>
    </div>

    <div class="col-sm-5 col-md-2 offset-1 offset-md-1">
        <h5>
            Update Empty Countries
        </h5>
        <button type="button" id="startUpdateEmptyCountries" class="btn btn-lg btn-primary">Start</button>
    </div>

</div>


<script type="text/javascript">

    $(document).ready(()=>{

        $("#startRegeneration").click((e)=>{

            $.ajax({
                method: "post",
                url: "/Settings/SyncFilters"
            }).done(function (data) {
                alert(data);
            }).fail(function (data) {
                console.log(data);
            });
        });

        
        $("#startDeletingNonMatched").click((e)=>{

            $.ajax({
                method: "post",
                url: "/Settings/DeleteNonMatcheds"
            }).done(function (data) {
                alert(data);
            }).fail(function (data) {
                console.log(data);
            });
        });


        $("#startUpdateEmptyCountries").click((e)=>{

            var dt = $("#dataTextArea").val();

            console.log(dt);

            $.ajax({
                method: "post",
                url: "/Settings/UpdateEmptyCountries",
                data: {serials: dt}
            }).done(function (data) {
                alert(data);
            }).fail(function (data) {
                console.log(data);
            });
        });


    });

</script>